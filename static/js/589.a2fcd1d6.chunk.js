"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[589],{589:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r,i,a=t(433),o=t(861),c=t(439),s=t(687),u=t.n(s),l=t(791),h=t(87),f=t(689),p=t(135),d=t(766),g=t(686),v=g.Z.input(r||(r=(0,d.Z)(["\n  display: inline-block;\n  width: 200px;\n  height: 27px;\n  margin-left: 40px;\n  font: inherit;\n  font-size: 14px;\n  padding-left: 4px;\n  padding-right: 4px;\n"]))),m=g.Z.form(i||(i=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n"]))),x=t(184),w=function(){var e,n=(0,l.useState)([]),t=(0,c.Z)(n,2),r=t[0],i=t[1],s=(0,l.useState)(null),d=(0,c.Z)(s,2),g=d[0],w=d[1],I=(0,h.lr)(),Z=(0,c.Z)(I,2),j=Z[0],y=Z[1],b=(0,f.TH)(),k=null!==(e=j.get("movieId"))&&void 0!==e?e:"";console.log(k),(0,l.useEffect)((function(){var e={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5MWEwMDkyODI0OWM4YmMyYmJkMjZkYzlhYTAyZjdiZSIsInN1YiI6IjY0ODcyNTQ3ZTI3MjYwMDE0N2JhZjQ3NSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.jrQFhg3zIzgrcOgT3KJMhk2fc76vvqhqSwZS0bI1EK4"}},n=function(){var n=(0,o.Z)(u().mark((function n(t){var r,i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.movieId,n.next=3,fetch("https://api.themoviedb.org/3/search/movie?query=".concat(r,"&include_adult=false&language=en-US&page=1"),e);case 3:if((i=n.sent).ok){n.next=6;break}throw new Error("Smth went wrong");case 6:return n.abrupt("return",i.json());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),t=function(){var e=(0,o.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n({movieId:k});case 3:if(t=e.sent,console.log(t.results),0!==t.results.length){e.next=7;break}throw Error("No matches found");case 7:i((function(e){return[].concat((0,a.Z)(e),(0,a.Z)(t.results))})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),w(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();t()}),[k]);console.log(r),console.log(g);return(0,x.jsxs)("div",{children:[(0,x.jsxs)(m,{onSubmit:function(e){e.preventDefault(),""!==k.trim()?(y(k),i([])):alert("Please enter the name")},children:[(0,x.jsx)(v,{type:"text",placeholder:"Search by name ",value:k,onChange:function(e){if(console.log(e.target.value),""===e.target.value)return y({});y({movieId:e.target.value})}}),(0,x.jsx)("button",{type:"submit",children:(0,x.jsx)(p.U41,{style:{width:24,height:24}})})]}),(0,x.jsx)("ul",{children:r.map((function(e){var n=e.id,t=e.original_title,i=e.name;return(0,x.jsx)("li",{children:(0,x.jsx)(h.rU,{to:"".concat(r),state:{from:b},children:t||i})},n)}))})]})}}}]);
//# sourceMappingURL=589.a2fcd1d6.chunk.js.map