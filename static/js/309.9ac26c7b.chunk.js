"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[309],{177:function(e,n,t){t.d(n,{Z:function(){return s}});var r,i=t(766),a=t(686).Z.p(r||(r=(0,i.Z)(["\n  margin: 0;\n  margin-bottom: 5px;\n"]))),o=t(184),s=function(e){var n=e.original_title,t=e.name;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(a,{children:n||t})})}},309:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var r,i,a=t(861),o=t(439),s=t(687),c=t.n(s),l=t(791),u=t(87),h=t(689),f=t(177),p=t(184),d=function(e){var n=e.movies;return(0,p.jsx)("ul",{children:n.map((function(e){var n=e.id,t=e.original_title,r=e.name;return(0,p.jsx)("li",{children:(0,p.jsx)(u.rU,{children:(0,p.jsx)(f.Z,{original_title:t,name:r})})},n)}))})},g=t(135),m=t(766),v=t(686),x=v.Z.input(r||(r=(0,m.Z)(["\n  display: inline-block;\n  width: 200px;\n  height: 27px;\n  margin-left: 40px;\n  font: inherit;\n  font-size: 14px;\n  padding-left: 4px;\n  padding-right: 4px;\n"]))),j=v.Z.form(i||(i=(0,m.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n"]))),Z=function(){var e,n=(0,l.useState)([]),t=(0,o.Z)(n,2),r=t[0],i=t[1],s=(0,l.useState)(null),f=(0,o.Z)(s,2),m=f[0],v=f[1],Z=(0,u.lr)(),w=(0,o.Z)(Z,2),I=w[0],y=w[1],b=(0,h.TH)(),k=null!==(e=I.get("movieId"))&&void 0!==e?e:"";console.log(k),(0,l.useEffect)((function(){var e={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI5MWEwMDkyODI0OWM4YmMyYmJkMjZkYzlhYTAyZjdiZSIsInN1YiI6IjY0ODcyNTQ3ZTI3MjYwMDE0N2JhZjQ3NSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.jrQFhg3zIzgrcOgT3KJMhk2fc76vvqhqSwZS0bI1EK4"}},n=function(){var n=(0,a.Z)(c().mark((function n(t){var r,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.movieId,n.next=3,fetch("https://api.themoviedb.org/3/search/movie?query=".concat(r,"&include_adult=false&language=en-US&page=1"),e);case 3:if((i=n.sent).ok){n.next=6;break}throw new Error("Smth went wrong");case 6:return n.abrupt("return",i.json());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),t=function(){var e=(0,a.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n({movieId:k});case 3:if(t=e.sent,console.log(t.results),0!==t.results.length){e.next=7;break}throw Error("No matches found");case 7:i(t.results),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),v(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();t()}),[k]);console.log(r),console.log(m);return console.log(b),(0,p.jsxs)("div",{children:[(0,p.jsxs)(j,{onSubmit:function(e){e.preventDefault(),""!==k.trim()?(y(k),i([])):alert("Please enter the name")},children:[(0,p.jsx)(x,{type:"text",placeholder:"Search by name ",value:k,onChange:function(e){if(console.log(e.target.value),""===e.target.value)return y({});y({movieId:e.target.value})}}),(0,p.jsx)("button",{type:"submit",children:(0,p.jsx)(g.U41,{style:{width:24,height:24}})})]}),(0,p.jsx)(d,{movies:r})]})}}}]);
//# sourceMappingURL=309.9ac26c7b.chunk.js.map